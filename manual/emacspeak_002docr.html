<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.6.0" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <title>emacspeak-ocr (Emacspeak User’s Manual — 2nd
  Edition.)</title>
  <meta name="description" content=
  "emacspeak-ocr (Emacspeak User’s Manual — 2nd Edition.)" />
  <meta name="keywords" content=
  "emacspeak-ocr (Emacspeak User’s Manual — 2nd Edition.)" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <link href="index.html" rel="start" title="Top" />
  <link href="Concept-Index.html" rel="index" title=
  "Concept Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Emacspeak-Commands-And-Options.html" rel="up" title=
  "Emacspeak Commands And Options" />
  <link href="emacspeak_002dorg.html" rel="next" title=
  "emacspeak-org" />
  <link href="emacspeak_002dnxml.html" rel="prev" title=
  "emacspeak-nxml" />
  <style type="text/css">
  /*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.indentedblock {margin-right: 0em}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  kbd {font-style: oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  span.nolinebreak {white-space: nowrap}
  span.roman {font-family: initial; font-weight: normal}
  span.sansserif {font-family: sans-serif; font-weight: normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <link rel="stylesheet" type="text/css" href=
  "http://www.w3.org/StyleSheets/Core/Modernist" />
</head>
<body lang="en" xml:lang="en">
  <span id="emacspeak_002docr"></span>
  <div class="header">
    <p>Next: <a href="emacspeak_002dorg.html" accesskey="n" rel=
    "next">emacspeak-org</a>, Previous: <a href=
    "emacspeak_002dnxml.html" accesskey="p" rel=
    "prev">emacspeak-nxml</a>, Up: <a href=
    "Emacspeak-Commands-And-Options.html" accesskey="u" rel=
    "up">Emacspeak Commands And Options</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Concept-Index.html" title=
    "Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <span id="emacspeak_002docr-1"></span>
  <h3 class="section">12.137 emacspeak-ocr</h3>
  <p>This module defines Emacspeak front-end to OCR. This module
  assumes that sane is installed and working for image acquisition,
  and that there is an OCR engine that can take acquired images and
  produce text. Prerequisites: Sane installed and working.
  scanimage to generate tiff files from scanner. tiffcp to compress
  the tiff file. working ocr executable by default this module
  assumes that the OCR executable is named "ocr"</p><span id=
  "Emacspeak_002dOcr-Commands"></span>
  <h4 class="subsection">12.137.1 Emacspeak-Ocr
  Commands</h4><span id="emacspeak_002docr-2"></span>
  <h4 class="subsubsection">12.137.1.1 emacspeak-ocr</h4>
  <dl>
    <dt id="index-emacspeak_002docr">Command:
    <strong>emacspeak-ocr</strong></dt>
    <dd>
      <dl compact="compact">
        <dt><kbd>C-e C-o</kbd></dt>
        <dd><span id="index-C_002de-C_002do"></span></dd>
        <dt><kbd>&lt;fn&gt; C-o</kbd></dt>
        <dd><span id="index-_003cfn_003e-C_002do"></span></dd>
      </dl><span id="index-emacspeak_002docr-1"></span>
      <div class="format">
        <pre class=
        "format">An OCR front-end for the Emacspeak desktop.  

Page image is acquired using tools from the SANE package.
The acquired image is run through the OCR engine if one is
available, and the results placed in a buffer that is
suitable for browsing the results.

For detailed help, invoke command emacspeak-ocr bound to
C-e C-o to launch emacspeak-ocr-mode, and press
‘?’ to display mode-specific help for emacspeak-ocr-mode.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dbackward_002dpage"></span>
  <h4 class="subsubsection">12.137.1.2
  emacspeak-ocr-backward-page</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dbackward_002dpage">Command:
    <strong>emacspeak-ocr-backward-page</strong> <em>(&amp;optional
    count-ignored)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dbackward_002dpage-1"></span>
      <div class="format">
        <pre class=
        "format">Like backward page, but tracks page number of current document.

(fn &amp;optional COUNT-IGNORED)
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dcustomize"></span>
  <h4 class="subsubsection">12.137.1.3 emacspeak-ocr-customize</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dcustomize">Command:
    <strong>emacspeak-ocr-customize</strong></dt>
    <dd>
      <span id="index-emacspeak_002docr_002dcustomize-1"></span>
      <div class="format">
        <pre class="format">Customize OCR settings.
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dflipflop_002dand_002drecognize_002dimage"></span>
  <h4 class="subsubsection">12.137.1.4
  emacspeak-ocr-flipflop-and-recognize-image</h4>
  <dl>
    <dt id=
    "index-emacspeak_002docr_002dflipflop_002dand_002drecognize_002dimage">
    Command:
    <strong>emacspeak-ocr-flipflop-and-recognize-image</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dflipflop_002dand_002drecognize_002dimage-1">
      </span>
      <div class="format">
        <pre class=
        "format">Run OCR engine on current image after flip-flopping it.
Useful if you’ve scanned a page upside down and are using an engine that does not automatically flip the image for you.
You need the imagemagik family of tools — we use mogrify to transform the image.
Prompts for image file if file corresponding to the expected
‘current page’ is not found.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dforward_002dpage"></span>
  <h4 class="subsubsection">12.137.1.5
  emacspeak-ocr-forward-page</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dforward_002dpage">Command:
    <strong>emacspeak-ocr-forward-page</strong> <em>(&amp;optional
    count-ignored)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dforward_002dpage-1"></span>
      <div class="format">
        <pre class=
        "format">Like forward page, but tracks page number of current document.

(fn &amp;optional COUNT-IGNORED)
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dmode"></span>
  <h4 class="subsubsection">12.137.1.6 emacspeak-ocr-mode</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dmode">Command:
    <strong>emacspeak-ocr-mode</strong></dt>
    <dd>
      <span id="index-emacspeak_002docr_002dmode-1"></span>
      <div class="format">
        <pre class=
        "format"> An OCR front-end for the Emacspeak desktop.

Pre-requisites:

1) A working scanner back-end like SANE on Linux.

2) An OCR engine.

1: Make sure your scanner back-end works, and that you have
the utilities to scan a document and acquire an image as a
tiff file.  Then set variable
emacspeak-ocr-scan-image-program to point at this utility.
By default, this is set to ‘scanimage’ which is the image
scanning utility provided by SANE.

By default, this front-end attempts to compress the acquired
tiff image; make sure you have a utility like tiffcp.
Variable emacspeak-ocr-compress-image is set to ‘tiffcp’ by
default; if you use something else, you should customize
this variable.

2: Next, make sure you have an OCR engine installed and
working.  By default this front-end assumes that OCR is
available as /usr/bin/ocr.

Once you have ensured that acquiring an image and applying
OCR to it work independently of Emacs, you can use this
Emacspeak front-end to enable easy OCR access from within
Emacspeak.

The Emacspeak OCR front-end is launched by command
emacspeak-ocr bound to C-e C-o.  

This command switches to a special buffer that has OCR
commands bounds to single keystrokes– see the key-binding
list at the end of this description.  Use Emacs online help
facility to look up help on these commands.

emacspeak-ocr-mode provides the necessary functionality to
scan, OCR, read and save documents.  By default, scanned
images and the resulting text are saved under directory
~/ocr; see variable emacspeak-ocr-working-directory.
Invoking command emacspeak-ocr-open-working-directory bound
to M-x emacspeak-ocr-open-working-directory will open this directory.

By default, the document being scanned is named ‘untitled’.
You can name the document by using command
emacspeak-ocr-name-document bound to
M-x emacspeak-ocr-name-document.  The document name is used
in constructing the name of the image and text files.

Key Bindings: 

See key             binding
—             ——-

RET             emacspeak-ocr-scan-and-recognize
SPC             emacspeak-ocr-read-current-page
1 .. 9          emacspeak-ocr-page
?               describe-mode
C               emacspeak-ocr-set-compress-image-options
I               emacspeak-ocr-set-scan-image-options
[               emacspeak-ocr-backward-page
]               emacspeak-ocr-forward-page
c               emacspeak-ocr-customize
d               emacspeak-ocr-open-working-directory
f               emacspeak-ocr-flipflop-and-recognize-image
i               emacspeak-ocr-scan-image
j               emacspeak-ocr-scan-photo
n               emacspeak-ocr-name-document
o               emacspeak-ocr-recognize-image
p               emacspeak-ocr-page
q               bury-buffer
s               emacspeak-ocr-save-current-page
w               emacspeak-ocr-write-document

.

In addition to any hooks its parent mode ‘text-mode’ might have run,
this mode runs the hook ‘emacspeak-ocr-mode-hook’, as the final or penultimate step
during initialization.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dname_002ddocument"></span>
  <h4 class="subsubsection">12.137.1.7
  emacspeak-ocr-name-document</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dname_002ddocument">Command:
    <strong>emacspeak-ocr-name-document</strong>
    <em>(name)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dname_002ddocument-1"></span>
      <div class="format">
        <pre class=
        "format">Name document being scanned in the current OCR buffer.
Pick a short but meaningful name.

(fn NAME)
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dopen_002dworking_002ddirectory"></span>
  <h4 class="subsubsection">12.137.1.8
  emacspeak-ocr-open-working-directory</h4>
  <dl>
    <dt id=
    "index-emacspeak_002docr_002dopen_002dworking_002ddirectory">
    Command:
    <strong>emacspeak-ocr-open-working-directory</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dopen_002dworking_002ddirectory-1">
      </span>
      <div class="format">
        <pre class="format">Launch dired on OCR working directory.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dpage"></span>
  <h4 class="subsubsection">12.137.1.9 emacspeak-ocr-page</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dpage">Command:
    <strong>emacspeak-ocr-page</strong></dt>
    <dd>
      <span id="index-emacspeak_002docr_002dpage-1"></span>
      <div class="format">
        <pre class="format">Move to specified page.
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dread_002dcurrent_002dpage"></span>
  <h4 class="subsubsection">12.137.1.10
  emacspeak-ocr-read-current-page</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dread_002dcurrent_002dpage">
    Command: <strong>emacspeak-ocr-read-current-page</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dread_002dcurrent_002dpage-1"></span>
      <div class="format">
        <pre class="format">Speaks current page.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002drecognize_002dimage"></span>
  <h4 class="subsubsection">12.137.1.11
  emacspeak-ocr-recognize-image</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002drecognize_002dimage">
    Command: <strong>emacspeak-ocr-recognize-image</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002drecognize_002dimage-1"></span>
      <div class="format">
        <pre class="format">Run OCR engine on current image.
Prompts for image file if file corresponding to the expected
‘current page’ is not found.
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dsave_002dcurrent_002dpage"></span>
  <h4 class="subsubsection">12.137.1.12
  emacspeak-ocr-save-current-page</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dsave_002dcurrent_002dpage">
    Command: <strong>emacspeak-ocr-save-current-page</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dsave_002dcurrent_002dpage-1"></span>
      <div class="format">
        <pre class=
        "format">Writes out recognized text from current page
to an appropriately named file.
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dscan_002dand_002drecognize"></span>
  <h4 class="subsubsection">12.137.1.13
  emacspeak-ocr-scan-and-recognize</h4>
  <dl>
    <dt id=
    "index-emacspeak_002docr_002dscan_002dand_002drecognize">
    Command: <strong>emacspeak-ocr-scan-and-recognize</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dscan_002dand_002drecognize-1"></span>
      <div class="format">
        <pre class=
        "format">Scan in a page and run OCR engine on it.
Use this command once you’ve verified that the separate
steps of acquiring an image and running the OCR engine work
correctly by themselves.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dscan_002dimage"></span>
  <h4 class="subsubsection">12.137.1.14
  emacspeak-ocr-scan-image</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dscan_002dimage">Command:
    <strong>emacspeak-ocr-scan-image</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dscan_002dimage-1"></span>
      <div class="format">
        <pre class="format">Acquire page image.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dscan_002dphoto"></span>
  <h4 class="subsubsection">12.137.1.15
  emacspeak-ocr-scan-photo</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dscan_002dphoto">Command:
    <strong>emacspeak-ocr-scan-photo</strong> <em>(&amp;optional
    metadata)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dscan_002dphoto-1"></span>
      <div class="format">
        <pre class="format">Scan in a photograph.
The scanned image is converted to JPEG.

(fn &amp;optional METADATA)
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dset_002dcompress_002dimage_002doptions"></span>
  <h4 class="subsubsection">12.137.1.16
  emacspeak-ocr-set-compress-image-options</h4>
  <dl>
    <dt id=
    "index-emacspeak_002docr_002dset_002dcompress_002dimage_002doptions">
    Command:
    <strong>emacspeak-ocr-set-compress-image-options</strong>
    <em>(setting)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dset_002dcompress_002dimage_002doptions-1">
      </span>
      <div class="format">
        <pre class=
        "format">Interactively update  image compression options.
Prompts with current setting in the minibuffer.
Setting persists for current Emacs session.

(fn SETTING)
</pre>
      </div>
    </dd>
  </dl><span id=
  "emacspeak_002docr_002dset_002dscan_002dimage_002doptions"></span>
  <h4 class="subsubsection">12.137.1.17
  emacspeak-ocr-set-scan-image-options</h4>
  <dl>
    <dt id=
    "index-emacspeak_002docr_002dset_002dscan_002dimage_002doptions">
    Command: <strong>emacspeak-ocr-set-scan-image-options</strong>
    <em>(setting)</em></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dset_002dscan_002dimage_002doptions-1">
      </span>
      <div class="format">
        <pre class=
        "format">Interactively update scan image options.
Prompts with current setting in the minibuffer.
Setting persists for current Emacs session.

(fn SETTING)
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr_002dwrite_002ddocument"></span>
  <h4 class="subsubsection">12.137.1.18
  emacspeak-ocr-write-document</h4>
  <dl>
    <dt id="index-emacspeak_002docr_002dwrite_002ddocument">
    Command: <strong>emacspeak-ocr-write-document</strong></dt>
    <dd>
      <span id=
      "index-emacspeak_002docr_002dwrite_002ddocument-1"></span>
      <div class="format">
        <pre class=
        "format">Writes out recognized text from all pages in current document.
</pre>
      </div>
    </dd>
  </dl><span id="emacspeak_002docr-Options"></span>
  <h4 class="subsection">12.137.2 emacspeak-ocr Options</h4>
  <dl>
    <dt id="index-User-Option-613">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-compress-image</em></dt>
    <dd>
      <p>Command used to compress the scanned tiff file.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-614">Variable: <strong>User
    Option</strong>
    <em>emacspeak-ocr-compress-image-options</em></dt>
    <dd>
      <p>Options used for compressing tiff image.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-615">Variable: <strong>User
    Option</strong>
    <em>emacspeak-ocr-compress-photo-options</em></dt>
    <dd>
      <p>Options used when created JPEG from scanned
      photographs.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-616">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-engine</em></dt>
    <dd>
      <p>OCR engine to process acquired image.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-617">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-engine-options</em></dt>
    <dd>
      <p>Command line options to pass to OCR engine.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-618">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-image-extension</em></dt>
    <dd>
      <p>Filename extension used for acquired image.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-619">Variable: <strong>User
    Option</strong>
    <em>emacspeak-ocr-jpeg-metadata-writer</em></dt>
    <dd>
      <p>Program to add metadata to JPEG files.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-620">Variable: <strong>User
    Option</strong>
    <em>emacspeak-ocr-keep-uncompressed-image</em></dt>
    <dd>
      <p>If set to T, uncompressed image is not removed.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-621">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-photo-compress</em></dt>
    <dd>
      <p>Program to create JPEG compressed images.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-622">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-scan-image</em></dt>
    <dd>
      <p>Name of image acquisition program.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-623">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-scan-image-options</em></dt>
    <dd>
      <p>Command line options to pass to image acquisition
      program.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-624">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-scan-photo-options</em></dt>
    <dd>
      <p>Options used when scanning in photographs.</p>
    </dd>
  </dl>
  <dl>
    <dt id="index-User-Option-625">Variable: <strong>User
    Option</strong> <em>emacspeak-ocr-working-directory</em></dt>
    <dd>
      <p>Directory where images and OCR results will be placed.</p>
    </dd>
  </dl>
  <hr />
  <div class="header">
    <p>Next: <a href="emacspeak_002dorg.html" accesskey="n" rel=
    "next">emacspeak-org</a>, Previous: <a href=
    "emacspeak_002dnxml.html" accesskey="p" rel=
    "prev">emacspeak-nxml</a>, Up: <a href=
    "Emacspeak-Commands-And-Options.html" accesskey="u" rel=
    "up">Emacspeak Commands And Options</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Concept-Index.html" title=
    "Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
